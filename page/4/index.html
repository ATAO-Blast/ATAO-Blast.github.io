<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>ATAO2017,阿宅创造奇迹！</title><meta name="author" content="ATAO2017"><meta name="copyright" content="ATAO2017"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta property="og:type" content="website">
<meta property="og:title" content="ATAO2017,阿宅创造奇迹！">
<meta property="og:url" content="http://example.com/page/4/index.html">
<meta property="og:site_name" content="ATAO2017,阿宅创造奇迹！">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/头像2.png">
<meta property="article:author" content="ATAO2017">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/头像2.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/page/4/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ATAO2017,阿宅创造奇迹！',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-07-31 22:40:37'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/头像2.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">82</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">32</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/3565069.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">ATAO2017,阿宅创造奇迹！</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ATAO2017,阿宅创造奇迹！</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/ATAO-Blast" target="_blank" title="Github主页"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zerwart@outlook.com" target="_blank" title="Email邮箱"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2022/05/20/hello-world/" title="Hello World"><img class="post_bg" src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/3565069.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/20/hello-world/" title="Hello World">Hello World</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-20T01:08:11.990Z" title="发表于 2022-05-20 09:08:11">2022-05-20</time></span></div><div class="content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post1$ hexo new &quot;My New Post&quot;

More info: Writing
Run server1$ hexo server

More info: Server
Generate static files1$ hexo generate

More info: Generating
Deploy to remote sites1$ hexo deploy

More info: Deployment
</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/05/19/UnityBook/Unity-Book-Chapter12Part3/" title="自动打包"><img class="post_bg" src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Unity-Xuanyusong.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="自动打包"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/19/UnityBook/Unity-Book-Chapter12Part3/" title="自动打包">自动打包</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-19T08:02:52.000Z" title="发表于 2022-05-19 16:02:52">2022-05-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AE%A3%E9%9B%A8%E6%9D%BEUnity%E4%B9%A6/">宣雨松Unity书</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%AE%A3%E9%9B%A8%E6%9D%BEUnity%E4%B9%A6/%E8%87%AA%E5%8A%A8%E5%8C%96%E4%B8%8E%E6%89%93%E5%8C%85/">自动化与打包</a></span></div><div class="content">Unity编辑器提供了手动打包的功能，但还是很麻烦。每次策划人员需要游戏包了，都要过来找程序员打包。为了方便，可以考虑让策划人员来打包，或者每天凌晨自动打包。但是打包也不是那么容易的，通常需要在打包前后自动执行一些特殊代码，例如Logo、图标、编译选项、复制和第三方库的依赖等。
打包前后事件打包时，我们需要监听一些事件，比如打包前设置版本号、游戏名和图标等，打包后可能需要复制或者压缩游戏包等
我们可以监听打包前和打包后的事件：
12345678910111213141516171819202122using UnityEngine;using UnityEditor;using UnityEditor.Build;public class ListeningBuildingEvents : IPreprocessBuildWithReport, IPostprocessBuildWithReport&#123;    int IOrderedCallback.callbackOrder&#123;        get&#123;            return 0;//返回回调的 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/05/16/UnityBook/Unity-Book-Chapter12Part2/" title="配置错误"><img class="post_bg" src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Unity-Xuanyusong.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="配置错误"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/16/UnityBook/Unity-Book-Chapter12Part2/" title="配置错误">配置错误</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-16T03:34:47.000Z" title="发表于 2022-05-16 11:34:47">2022-05-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AE%A3%E9%9B%A8%E6%9D%BEUnity%E4%B9%A6/">宣雨松Unity书</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%AE%A3%E9%9B%A8%E6%9D%BEUnity%E4%B9%A6/%E8%87%AA%E5%8A%A8%E5%8C%96%E4%B8%8E%E6%89%93%E5%8C%85/">自动化与打包</a></span></div><div class="content">在游戏开发中，常见的经典错误如下：

策划人员把表配错了，程序运行报错。
美术人员制作的模型缺少规定的挂载点，或者起名不规范，程序运行后，找不到就报错了。

想要彻底解决这类问题，需要给美术或策划人员提供资源检查工具
主动检查工具程序人员开发一套工具来检查资源的规范性，策划人员或者美术人员在需要提交资源之前，运行此工具，如果资源不符合规范，就会输出错误日志，接着修改好后再重复检查，直到没问题后再提交资源。
被动检查工具被动检查工具就是依赖Unity监听资源导入事件、程序来动态分析资源的合理性。这种检查方法比主动检查工具更安全了，因为资源只要拖入就会自动检查，不需要使用者主动操作，这样就不会有遗漏检查的情况。
导出类检查工具无论是主动检查还是被动检查，其实最核心的问题是，策划人员和美术人员可以跳过检查直接提交SVN。理论上，各种资源都可能被提交。所以要想彻底解决这个问题，程序员就不能直接使用他们提交的资源，而采取间接使用的方式。
程序提供一个导出工具，即根据美术资源来自动生成一个新资源（程序用的资源），导出的同时做资源检查，如果资源不符合规范，那么提示错误并且不生成新资源。因为程序使用的 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/05/11/UnityBook/Unity-Book-Chapter12Part1/" title="资源导入"><img class="post_bg" src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Unity-Xuanyusong.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="资源导入"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/11/UnityBook/Unity-Book-Chapter12Part1/" title="资源导入">资源导入</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-11T09:04:07.000Z" title="发表于 2022-05-11 17:04:07">2022-05-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AE%A3%E9%9B%A8%E6%9D%BEUnity%E4%B9%A6/">宣雨松Unity书</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%AE%A3%E9%9B%A8%E6%9D%BEUnity%E4%B9%A6/%E8%87%AA%E5%8A%A8%E5%8C%96%E4%B8%8E%E6%89%93%E5%8C%85/">自动化与打包</a></span></div><div class="content">游戏中的资源是海量的，这就带来了新的问题，大量的资源格式需要设置，比如贴图格式、模型格式、音频格式和文件格式等。我们需要结合自动化来管理资源。另外，游戏打包这一步也需要自动化。例如，每次打包前，需要对包体做一些修改，如果全都手动操作，就非常麻烦了。这一章学习Unity自动化接口。
资源导入在Unity中导入资源后，都可以通过设置参数来直接修改它的格式，而引擎会重新压缩资源。游戏中的大量资源都是美术人员或者策划人员导入的，这个过程很容易设置成错误的资源类型，或者由于没有设置成默认的效率不高的资源类型。为了避免出现这种低级错误，我们要做的就是帮他们手动设置。
监听导入事件资源导入后，Unity会根据设置信息自动压缩。而导入事件又分两种：压缩前的时间和压缩后的事件。如果需要修改导入参数，那么就可以监听压缩前的事件来修改它，后面就会自动执行导入操作了。如果想等导入结束后生成点什么对象，可以监听导入后事件。
继承AssetPostprocessor后，就可以监听它们的事件了

 相关参考，拓展编辑器一监听资源事件：Unity游戏开发拓展编辑器1

123456789101112131415161 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/05/09/UnityBook/Unity-Book-Chapter11Part6/" title="资源管理实例"><img class="post_bg" src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Unity-Xuanyusong.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="资源管理实例"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/09/UnityBook/Unity-Book-Chapter11Part6/" title="资源管理实例">资源管理实例</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-09T02:03:16.000Z" title="发表于 2022-05-09 10:03:16">2022-05-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AE%A3%E9%9B%A8%E6%9D%BEUnity%E4%B9%A6/">宣雨松Unity书</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%AE%A3%E9%9B%A8%E6%9D%BEUnity%E4%B9%A6/%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%E4%B8%8E%E4%BC%98%E5%8C%96/">资源加载与优化</a></span></div><div class="content">特殊内置的文件夹特殊文件夹名称 - Unity 手册 (unity3d.com)

Assets文件夹：游戏资源的顶层文件夹。AssetDataBase方法可以访问里面的任意资源。注意AssetDataBase连Packages文件夹也能访问，所以其中的一些函数需要将Assets文件夹作为路径名的一部分添加。

Editor文件夹：编辑模式下的代码需要放在这里。可以有多个。Editor文件夹中的Resources文件夹内容会被EditorUtility.Load函数来加载。打包以后，会自动剥离它。

Editor Default Resources文件夹：编辑器资源文件夹，可以被EditorUtility.Load函数来加载，编辑模式下的编辑器需要的资源尽可能放在这里。此文件夹只能有一个，且必须放在项目的根目录（Assets文件夹）中，可以在其中有子文件夹，在EditorUtility.Load函数中调用时明确其路径即可。

Gizmos文件夹：Gizmos是一个拓展Scene视图的类，注意它和Debug.DrawLine等Debug类的区别，在Gizmos文件夹中可以放置一些图标，这 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/05/06/UnityBook/Unity-Book-Chapter11Part5/" title="优化工具"><img class="post_bg" src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Unity-Xuanyusong.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="优化工具"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/06/UnityBook/Unity-Book-Chapter11Part5/" title="优化工具">优化工具</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-06T08:10:27.000Z" title="发表于 2022-05-06 16:10:27">2022-05-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AE%A3%E9%9B%A8%E6%9D%BEUnity%E4%B9%A6/">宣雨松Unity书</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%AE%A3%E9%9B%A8%E6%9D%BEUnity%E4%B9%A6/%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%E4%B8%8E%E4%BC%98%E5%8C%96/">资源加载与优化</a></span></div><div class="content">Unity Profiler可以查看每一帧游戏的渲染、加载和内存，并且它可以精确到耗时资源本身。
Frame Debugger工具用来查看渲染DrawCall顺序，进一步查出为什么DrawCall没有合并。
重复无用资源在游戏开发过程中，经常会换UI、模型和资源等，时间长了就会积累出很多无用的资源，其中有些资源已经废弃了但还被用着，或者资源发生了重复，重复的资源还分别被有些对象所依赖。所以需要做一个工具来自动找出这些不合理的资源，统一处理掉。
我们新建两个材质，这些材质都引用相同的贴图，但是我们把贴图复制成了两份，两个材质分别引用其中一份。

我们新建两个Cube的Prefab，这两个Cube分别引用了其中一份材质，将这两个Prefab都放在Resources文件夹下

新建CheckRepetitive脚本
1234567891011121314151617181920212223242526272829303132333435363738394041424344454647using System.Collections;using System.Collections.Gener ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/05/05/UnityBook/Unity-Book-Chapter11Part4/" title="游戏对象"><img class="post_bg" src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Unity-Xuanyusong.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="游戏对象"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/05/UnityBook/Unity-Book-Chapter11Part4/" title="游戏对象">游戏对象</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-05T14:59:19.000Z" title="发表于 2022-05-05 22:59:19">2022-05-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AE%A3%E9%9B%A8%E6%9D%BEUnity%E4%B9%A6/">宣雨松Unity书</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%AE%A3%E9%9B%A8%E6%9D%BEUnity%E4%B9%A6/%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%E4%B8%8E%E4%BC%98%E5%8C%96/">资源加载与优化</a></span></div><div class="content">GameObject是一个壳子，它关联着所有资源以及组件的引用。GameObject也有自己的一套资源管理方式，Unity提供了丰富的接口来操作它。下面我们逐一总结GameObject的创建、删除、修改和查询方法。
创建GameObject
通过将资源读取在内存中，然后使用Instantiate方法实例化创建资源副本。比如使用Resources方法、AssetBundle方法、AssetDatabase方法等
使用new GameObject创建，接着在后面挂脚本或者设置参数等。

我们可以使用以下脚本在运行时创建一个Camera
12345678910using UnityEngine;public class TestScript : MonoBehaviour&#123;    void Start()    &#123;        GameObject myCamera = new GameObject(&quot;MyCamera&quot;,typeof(Camera));        myCamera.transform.position = Vector3.one ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/25/UnityBook/Unity-Book-Chapter11Part3/" title="AssetBundle"><img class="post_bg" src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Unity-Xuanyusong.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AssetBundle"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/25/UnityBook/Unity-Book-Chapter11Part3/" title="AssetBundle">AssetBundle</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-25T05:52:18.000Z" title="发表于 2022-04-25 13:52:18">2022-04-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AE%A3%E9%9B%A8%E6%9D%BEUnity%E4%B9%A6/">宣雨松Unity书</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%AE%A3%E9%9B%A8%E6%9D%BEUnity%E4%B9%A6/%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%E4%B8%8E%E4%BC%98%E5%8C%96/">资源加载与优化</a></span></div><div class="content">在网络游戏中，可能需要在运行时下载并更新资源，而Unity提供了AssetBundle组件，可以将指定的一部分资源构建成AssetBundle文件。如果需要下载，那么需要将这些AssetBundle文件上传到CDN上。
设置AssetBundle选择需要构建的AssetBundle资源，在右下角写入资源名以及资源的后缀名，在代码中调用BuildPipeline.BuildAssetBundles()方法，只需提供一个输出的目录就可以构建AssetBundle了，最终将输出在AssetBundleFolder文件夹下


在Editor文件夹内新建BuildAssetBundleScript脚本，注意一定要在Editor文件夹中
123456789101112131415161718192021using UnityEngine;using UnityEditor;using System.IO;public class BuildAssetBundleScript &#123;    [MenuItem(&quot;Tools/BuildAssetBundles&quot;)]     ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/04/23/UnityBook/Unity-Book-Chapter11Part2/" title="版本管理、运行模式资源管理"><img class="post_bg" src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Unity-Xuanyusong.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="版本管理、运行模式资源管理"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/23/UnityBook/Unity-Book-Chapter11Part2/" title="版本管理、运行模式资源管理">版本管理、运行模式资源管理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-23T03:13:10.000Z" title="发表于 2022-04-23 11:13:10">2022-04-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AE%A3%E9%9B%A8%E6%9D%BEUnity%E4%B9%A6/">宣雨松Unity书</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%AE%A3%E9%9B%A8%E6%9D%BEUnity%E4%B9%A6/%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%E4%B8%8E%E4%BC%98%E5%8C%96/">资源加载与优化</a></span></div><div class="content">多人开发游戏时，需要对项目的版本进行管理，通常会将整个工程上传SVN或者Git。但这并不是很必要，资源在导入Unity的时候，会自动生成很多中间资源，这些资源是不需要上传的。只需要将Assets、ProjectSettings文件夹下的的所有文件以及.meta文件上传即可

.meta文件.meta文件是Unity自动生成的。每个游戏资源都会有一个对应的.meta文件，它会标记资源在引擎中的一些设置信息。也就是我们在Unity中选中一个资源时，在Inspector中设置的导入信息，资源在用户无感知的情况下被Unity优化了。
当我们在Edit——Project Settings——Version Control中，选择Mode为Visible Version Files，就能在文件资源管理器中看到meta文件用来版本管理。

我们随便打开一张贴图对应的.meta文件，每个.meta文件都会记录guid这个重要信息。guid就是用来关联资源与游戏对象的引用的。比如场景中有个模型，引用了这张贴图，那么模型对应的.prefab文件就会引用这个guid；如果模型不是Prefab，只是保持在场景 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/21/UnityBook/Unity-Book-Chapter11Part1/" title="编辑模式资源管理"><img class="post_bg" src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Unity-Xuanyusong.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="编辑模式资源管理"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/21/UnityBook/Unity-Book-Chapter11Part1/" title="编辑模式资源管理">编辑模式资源管理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-21T02:10:10.000Z" title="发表于 2022-04-21 10:10:10">2022-04-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AE%A3%E9%9B%A8%E6%9D%BEUnity%E4%B9%A6/">宣雨松Unity书</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%AE%A3%E9%9B%A8%E6%9D%BEUnity%E4%B9%A6/%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%E4%B8%8E%E4%BC%98%E5%8C%96/">资源加载与优化</a></span></div><div class="content">Unity提供了强大的Profiler工具，它专门查看每一帧内存的占用以及加载的耗时。此外，它还提供了自定义接口，开发者也可以自定义一个查看区间。
Unity还提供了Frame Debugger，它可以查看每一帧渲染的详细过程。如果DrawCall很多的话，可以参照它来想办法合并。
Unity有丰富的资源加载接口，我们可以在编辑模式下加载资源，在运行模式下加载本地资源和下载资源。
编辑模式加载资源编辑器模式下Unity可以访问加载到硬盘上的任意资源，这对拓展引擎内置的编辑器是非常好的。引擎可以读取任意资源来丰富编辑器。
编辑模式下的资源可分为两类：一类是引擎可识别的资源，例如Prefab、声音、视频、动画和UI等；另一类是引擎无法识别的资源，例如外部导入资源，这类资源需要通过第三方工具将它的信息解析出来，最终组织成引擎内可识别资源才可以使用。
Unity标志性的类AssetDatabase，它专门负责读取工程内的资源。它读取的资源必须放在项目的Assets目录下，其他位置的资源可以尝试用File类来读取

我们在场景中随便放一个cube（没有父对象），坐标设置为（7,7，-6），并拉取 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/3/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/#content-inner">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/#content-inner">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/#content-inner">9</a><a class="extend next" rel="next" href="/page/5/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/头像2.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">ATAO2017</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">82</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">32</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://space.bilibili.com/170871791?spm_id_from=333.1007.0.0"><i class="fas fa-heart"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/ATAO-Blast" target="_blank" title="Github主页"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zerwart@outlook.com" target="_blank" title="Email邮箱"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到ATAO2017的博客</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/07/29/ATAOFrameWork/FrameWork-Season1Note13/" title="增加事件的使用规则"><img src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Snipaste_2022-06-27_15-08-47.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="增加事件的使用规则"/></a><div class="content"><a class="title" href="/2022/07/29/ATAOFrameWork/FrameWork-Season1Note13/" title="增加事件的使用规则">增加事件的使用规则</a><time datetime="2022-07-29T07:11:28.000Z" title="发表于 2022-07-29 15:11:28">2022-07-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/28/ATAOFrameWork/FrameWork-Season1Note12/" title="使用拓展方法和接口阉割创建规则"><img src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Snipaste_2022-06-27_15-08-47.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用拓展方法和接口阉割创建规则"/></a><div class="content"><a class="title" href="/2022/07/28/ATAOFrameWork/FrameWork-Season1Note12/" title="使用拓展方法和接口阉割创建规则">使用拓展方法和接口阉割创建规则</a><time datetime="2022-07-28T03:19:55.000Z" title="发表于 2022-07-28 11:19:55">2022-07-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/27/ATAOFrameWork/FrameWork-Season1Note11/" title="IUtility实现与ICommand完善"><img src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Snipaste_2022-06-27_15-08-47.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="IUtility实现与ICommand完善"/></a><div class="content"><a class="title" href="/2022/07/27/ATAOFrameWork/FrameWork-Season1Note11/" title="IUtility实现与ICommand完善">IUtility实现与ICommand完善</a><time datetime="2022-07-27T03:17:37.000Z" title="发表于 2022-07-27 11:17:37">2022-07-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/24/ATAOFrameWork/FrameWork-Season1Note10/" title="表现层IController接口定义与实现"><img src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Snipaste_2022-06-27_15-08-47.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="表现层IController接口定义与实现"/></a><div class="content"><a class="title" href="/2022/07/24/ATAOFrameWork/FrameWork-Season1Note10/" title="表现层IController接口定义与实现">表现层IController接口定义与实现</a><time datetime="2022-07-24T09:11:01.000Z" title="发表于 2022-07-24 17:11:01">2022-07-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/22/ATAOFrameWork/FrameWork-Season1Note9/" title="引入System层"><img src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Snipaste_2022-06-27_15-08-47.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="引入System层"/></a><div class="content"><a class="title" href="/2022/07/22/ATAOFrameWork/FrameWork-Season1Note9/" title="引入System层">引入System层</a><time datetime="2022-07-22T04:27:41.000Z" title="发表于 2022-07-22 12:27:41">2022-07-22</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Adventure-Creator/"><span class="card-category-list-name">Adventure Creator</span><span class="card-category-list-count">10</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/After-Effects/"><span class="card-category-list-name">After Effects</span><span class="card-category-list-count">1</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/After-Effects/%E8%A1%A8%E8%BE%BE%E5%BC%8F/"><span class="card-category-list-name">表达式</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/C-%E7%9F%A5%E8%AF%86/"><span class="card-category-list-name">C#知识</span><span class="card-category-list-count">7</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/C-%E7%9F%A5%E8%AF%86/C-Tips/"><span class="card-category-list-name">C#Tips</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/C-%E7%9F%A5%E8%AF%86/C-%E9%AB%98%E7%BA%A7/"><span class="card-category-list-name">C#高级</span><span class="card-category-list-count">3</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/PhotoShop/"><span class="card-category-list-name">PhotoShop</span><span class="card-category-list-count">1</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/PhotoShop/%E6%BB%A4%E9%95%9C/"><span class="card-category-list-name">滤镜</span><span class="card-category-list-count">1</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/AE/" style="font-size: 1.1em; color: #999">AE</a> <a href="/tags/Adventure-Creator/" style="font-size: 1.35em; color: #99a3b1">Adventure_Creator</a> <a href="/tags/C/" style="font-size: 1.3em; color: #99a1ac">C#</a> <a href="/tags/DOTween/" style="font-size: 1.2em; color: #999da3">DOTween</a> <a href="/tags/Dialogue-System/" style="font-size: 1.1em; color: #999">Dialogue System</a> <a href="/tags/PhotoShop/" style="font-size: 1.1em; color: #999">PhotoShop</a> <a href="/tags/Tips/" style="font-size: 1.15em; color: #999b9e">Tips</a> <a href="/tags/Unity/" style="font-size: 1.15em; color: #999b9e">Unity</a> <a href="/tags/UnityPlugin/" style="font-size: 1.25em; color: #999fa7">UnityPlugin</a> <a href="/tags/Unity%E4%B9%A6%E7%B1%8D/" style="font-size: 1.45em; color: #99a7ba">Unity书籍</a> <a href="/tags/test/" style="font-size: 1.1em; color: #999">test</a> <a href="/tags/testcategories/" style="font-size: 1.1em; color: #999">testcategories</a> <a href="/tags/%E5%8A%A8%E4%BD%9C%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/" style="font-size: 1.1em; color: #999">动作游戏开发</a> <a href="/tags/%E6%95%99%E7%A8%8B/" style="font-size: 1.5em; color: #99a9bf">教程</a> <a href="/tags/%E6%B8%B8%E6%88%8F%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/" style="font-size: 1.4em; color: #99a5b6">游戏框架搭建</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">七月 2022</span><span class="card-archive-list-count">14</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/06/"><span class="card-archive-list-date">六月 2022</span><span class="card-archive-list-count">16</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">五月 2022</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><span class="card-archive-list-count">10</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">二月 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/01/"><span class="card-archive-list-date">一月 2022</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/12/"><span class="card-archive-list-date">十二月 2021</span><span class="card-archive-list-count">4</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">82</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-07-31T14:40:36.665Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By ATAO2017</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">ATAO2017，阿宅创造奇迹</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>