<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>ATAO2017,阿宅创造奇迹！</title><meta name="author" content="ATAO2017"><meta name="copyright" content="ATAO2017"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta property="og:type" content="website">
<meta property="og:title" content="ATAO2017,阿宅创造奇迹！">
<meta property="og:url" content="http://example.com/page/11/index.html">
<meta property="og:site_name" content="ATAO2017,阿宅创造奇迹！">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/头像2.png">
<meta property="article:author" content="ATAO2017">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/头像2.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/page/11/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ATAO2017,阿宅创造奇迹！',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-07-04 17:33:50'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/头像2.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">244</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">21</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">64</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/3565069.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">ATAO2017,阿宅创造奇迹！</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ATAO2017,阿宅创造奇迹！</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/ATAO-Blast" target="_blank" title="Github主页"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zerwart@outlook.com" target="_blank" title="Email邮箱"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2022/10/28/ATAOFrameWork/FrameWork-Season3Note1/" title="API优化"><img class="post_bg" src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Snipaste_2022-06-27_15-08-47.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="API优化"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/28/ATAOFrameWork/FrameWork-Season3Note1/" title="API优化">API优化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-28T04:50:30.000Z" title="发表于 2022-10-28 12:50:30">2022-10-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E5%86%B3%E5%AE%9A%E7%89%88/">框架搭建决定版</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E5%86%B3%E5%AE%9A%E7%89%88/%E7%90%86%E8%AE%BA%E5%BC%BA%E5%8C%96%E7%AF%87/">理论强化篇</a></span></div><div class="content">架构提取将积累的架构合并为一个文件
打开ShootingEditor2D工程，在Assets目录下新建一个脚本，命名为QFrameWork
我们将之前积累的代码全部放进里面，（下面的代码已经修改过BindableProperty和TypeEventSystem）
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697989910010110210310410510610710810911011111211311411511611711811912012112212312412512612712812913013113213313413513613713813914014114214314414514614714814915015115215315415515615715815 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/10/27/ATAOFrameWork/FrameWork-Season2Note36/" title="v0.0.5归档和篇章小结"><img class="post_bg" src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Snipaste_2022-06-27_15-08-47.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="v0.0.5归档和篇章小结"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/27/ATAOFrameWork/FrameWork-Season2Note36/" title="v0.0.5归档和篇章小结">v0.0.5归档和篇章小结</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-27T11:38:30.000Z" title="发表于 2022-10-27 19:38:30">2022-10-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E5%86%B3%E5%AE%9A%E7%89%88/">框架搭建决定版</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E5%86%B3%E5%AE%9A%E7%89%88/%E5%AE%9E%E8%B7%B5%E5%BA%94%E7%94%A8%E7%AF%87/">实践应用篇</a></span></div><div class="content">归档内容v0.0.5 关卡设计初步实现

绘制地形实现
橡皮擦实现
主角绘制
关卡信息搜集、序列化
关卡存储与解析

打开之前归档用的TXT文件，将此归档内容放在里面即可
篇章小结到目前为止的编辑器开发阶段，并没有使用到架构。
什么时候用架构：

摸索阶段，等到一定规模之后或者有集成到游戏里的需求之后再使用。
边做边用，可以先进行一整个模块或者游戏的纸上设计

在平常的开发工作中，至少一半的工作量都在表现层，比如角色动画、角色控制、子弹轨迹等，这些都是表现层的逻辑和工作量，架构的重点在于数据的管理和交互上。
在实践应用篇中我们引入了Query。架构也多了些改进
</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/10/27/ATAOFrameWork/FrameWork-Season2Note35/" title="关卡信息搜集、序列化及存储和解析"><img class="post_bg" src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Snipaste_2022-06-27_15-08-47.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="关卡信息搜集、序列化及存储和解析"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/27/ATAOFrameWork/FrameWork-Season2Note35/" title="关卡信息搜集、序列化及存储和解析">关卡信息搜集、序列化及存储和解析</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-27T07:10:50.000Z" title="发表于 2022-10-27 15:10:50">2022-10-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E5%86%B3%E5%AE%9A%E7%89%88/">框架搭建决定版</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E5%86%B3%E5%AE%9A%E7%89%88/%E5%AE%9E%E8%B7%B5%E5%BA%94%E7%94%A8%E7%AF%87/">实践应用篇</a></span></div><div class="content">添加保存按钮直接在LevelEditor脚本的OnGUI代码块中添加下列代码
12345var saveButtonRect = new Rect(Screen.width - 110,Screen.height - 60, 100, 50);if (GUI.Button(saveButtonRect, &quot;Save&quot;, mRightButtonStyle.Value))&#123;&#125;

我们需要保存的信息是当前场景物品的位置和名称，首先在LevelEidtor脚本内部新建一个需要保存序列化信息的类
123456class LevelItemInfo&#123;    public string Name;    public float X;    public float Y;&#125;

添加保存逻辑将保存逻辑都写入之前OnGUI代码块中
1234567891011121314151617181920212223242526272829303132333435363738394041424344var saveButtonRect = new Rec ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/10/27/ATAOFrameWork/FrameWork-Season2Note34/" title="绘制主角"><img class="post_bg" src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Snipaste_2022-06-27_15-08-47.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="绘制主角"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/27/ATAOFrameWork/FrameWork-Season2Note34/" title="绘制主角">绘制主角</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-27T02:37:44.000Z" title="发表于 2022-10-27 10:37:44">2022-10-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E5%86%B3%E5%AE%9A%E7%89%88/">框架搭建决定版</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E5%86%B3%E5%AE%9A%E7%89%88/%E5%AE%9E%E8%B7%B5%E5%BA%94%E7%94%A8%E7%AF%87/">实践应用篇</a></span></div><div class="content">在这一节，实现绘制主角的功能。
笔刷显示逻辑修改LevelEditor脚本，在其中新建一个枚举，用于存储笔刷类型
1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556using System;using UnityEngine;namespace ShootingEditor2D&#123;    public class LevelEditor : MonoBehaviour    &#123;        //...        public enum BrushType        &#123;            Ground,            Player        &#125;        BrushType mCurrentBrushType = BrushType.Ground;        //...        Lazy&lt;GUIStyle&gt; mRightButtonStyle = ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/10/26/Shortcuts/" title="各种快捷键"><img class="post_bg" src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Photoshop-CC-2020.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="各种快捷键"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/26/Shortcuts/" title="各种快捷键">各种快捷键</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-26T12:57:47.000Z" title="发表于 2022-10-26 20:57:47">2022-10-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/PhotoShop/">PhotoShop</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/PhotoShop/%E5%BF%AB%E6%8D%B7%E9%94%AE/">快捷键</a></span></div><div class="content">腹灵FL980快捷键Fn组合键功能


组合键
功能



Fn+Esc
长按2秒恢复出厂


Fn+Win键
同锁住左Win和APP（IOS、MAC系统下自动解锁）


Fn+右Ctrl
切换灯光模式


Fn+右Shift
切换灯光颜色


Fn+Del
直接进入关灯模式


Fn+上下方向键
调整背光亮度，最大档最小档三个指示灯白光闪烁提示，最小档是关闭。（IOS、MAC下按F5、F6调节背光亮度）


Fn+左右方向键
调节背光变化速率


Fn+1
短按切换到蓝牙设备1，长按3s进入配对


Fn+2
短按切换到蓝牙设备2，长按3s进入配对


Fn+3
短按切换到蓝牙设备3，长按3s进入配对


Fn+4
长按3s进入2.4G配对接收器模式


Fn+Backspace
查询当前电量。只能在电池供电的模式下查询


Fn + 组合键功能（Windows、Android系统）


组合键
功能



Fn+F1
亮度-


Fn+F2
亮度+


Fn+F3
相当于Win+Tab快捷键（任务控制），使用时请注意Win键不要锁住


Fn+F4
相当于Win+E快捷键（打开我的 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/10/26/ATAOFrameWork/FrameWork-Season2Note33/" title="橡皮擦实现和拖拽绘制"><img class="post_bg" src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Snipaste_2022-06-27_15-08-47.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="橡皮擦实现和拖拽绘制"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/26/ATAOFrameWork/FrameWork-Season2Note33/" title="橡皮擦实现和拖拽绘制">橡皮擦实现和拖拽绘制</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-26T07:04:32.000Z" title="发表于 2022-10-26 15:04:32">2022-10-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E5%86%B3%E5%AE%9A%E7%89%88/">框架搭建决定版</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E5%86%B3%E5%AE%9A%E7%89%88/%E5%AE%9E%E8%B7%B5%E5%BA%94%E7%94%A8%E7%AF%87/">实践应用篇</a></span></div><div class="content">我们需要让我们的编辑器支持两种模式，一种是Draw模式，一种是Erase模式
添加编辑模式我们使用枚举来指定模式
修改LevelEditor脚本
123456789101112131415161718192021222324252627282930using System;using UnityEngine;namespace ShootingEditor2D&#123;    public class LevelEditor : MonoBehaviour    &#123;        public enum OperateMode        &#123;            Draw,            Erase        &#125;        OperateMode mCurrentOperateMode;        //...        Lazy&lt;GUIStyle&gt; mModeLableStyle = new Lazy&lt;GUIStyle&gt;(() =&gt;         &#123;             retur ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/10/25/ATAOFrameWork/FrameWork-Season2Note32/" title="单击绘制地块、重复检测"><img class="post_bg" src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Snipaste_2022-06-27_15-08-47.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="单击绘制地块、重复检测"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/25/ATAOFrameWork/FrameWork-Season2Note32/" title="单击绘制地块、重复检测">单击绘制地块、重复检测</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-25T14:33:00.000Z" title="发表于 2022-10-25 22:33:00">2022-10-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E5%86%B3%E5%AE%9A%E7%89%88/">框架搭建决定版</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E5%86%B3%E5%AE%9A%E7%89%88/%E5%AE%9E%E8%B7%B5%E5%BA%94%E7%94%A8%E7%AF%87/">实践应用篇</a></span></div><div class="content">编辑器功能的初步实现就是要达到一个基本的使用循环，编辑——运行——编辑——运行…编辑功能就是拖拽加上一些摆放的功能，能够保存在一个文本文件里。运行功能就是将文本文件里的内容进行解析，然后运行。
鼠标高亮编辑功能拆分实现如下

摆放关卡对象
绘制地形或关卡对象
重复检测
橡皮擦
拖拽绘制


保存生成关卡文件
关卡信息搜集、序列化



我们在v0.0.5版本中只做一件事情，就是绘制地形实现。
首先新建一个场景命名为LevelEditor，然后打开这个场景，在其中新建一个空对象命名为LevelEditor，将其Transform重置一下。
然后新建一个2D Object——Sprite——Square，将其命名为EmptyHighlight，代表着高亮块，用来提示鼠标位置，将sprite的透明度设为128
然后在Scripts——ViewController——LevelEditor内部新建LevelEditor脚本
1234567891011121314151617181920using UnityEngine;namespace ShootingEditor2D&#123;    p ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/10/25/ATAOFrameWork/FrameWork-Season2Note31/" title="v0.0.4归档与v0.0.5版本规划"><img class="post_bg" src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Snipaste_2022-06-27_15-08-47.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="v0.0.4归档与v0.0.5版本规划"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/25/ATAOFrameWork/FrameWork-Season2Note31/" title="v0.0.4归档与v0.0.5版本规划">v0.0.4归档与v0.0.5版本规划</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-25T06:57:14.000Z" title="发表于 2022-10-25 14:57:14">2022-10-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E5%86%B3%E5%AE%9A%E7%89%88/">框架搭建决定版</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E5%86%B3%E5%AE%9A%E7%89%88/%E5%AE%9E%E8%B7%B5%E5%BA%94%E7%94%A8%E7%AF%87/">实践应用篇</a></span></div><div class="content">归档内容v0.0.4 枪械系统的系统层实现

开枪
填弹
捡枪
换枪
弹药补给
补给站补给

打开之前归档用的TXT文件，将此归档内容放在里面即可
之前的v0.0.4版本规划
 
枪械系统：

手枪

冲锋枪

步枪

狙击枪

火箭筒

霰弹枪

不同的枪配有不同的子弹，不同的子弹有不同的射击轨迹、范围、攻击力


主角能力：

二段跳

攀墙

冲刺

 
主角数值：

血量

弹药量


敌人：

生命值
开枪的远程敌人
掉落弹药补给、回血

关卡：

可破坏物
陷阱
机关
回血道具
最大生命+1
终点
起始点
 补给站

对话系统

角色设置剧情

系统

存档系统
关卡编辑系统
对话系统
统计系统
成就系统
背包系统
主角的Model

之前的规划过于丰富，所以暂不完全实现了。接下来我们实现关卡编辑系统，我们在v0.0.3版本中，已经确定好了关卡存储格式和解析
XML关卡制定和解析
最起码需要能够做到编辑——运行——编辑——运行。。。这样一个步骤
v0.0.5规划v0.0.5 关卡设计初步实现

绘制地形实现
橡皮擦实现
主角绘制
关卡信息搜集、序列化
关卡存储与解析

</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/10/16/ActionGameProgram/ActionGame-Chapter2Part2/" title="编辑器开发基础知识"><img class="post_bg" src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/ActionGameCover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="编辑器开发基础知识"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/16/ActionGameProgram/ActionGame-Chapter2Part2/" title="编辑器开发基础知识">编辑器开发基础知识</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-16T08:38:26.000Z" title="发表于 2022-10-16 16:38:26">2022-10-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%8A%A8%E4%BD%9C%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/">动作游戏开发实战</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%8A%A8%E4%BD%9C%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87/">前期准备</a></span></div><div class="content">编辑器工具的编写编辑器工具大致可分为脚本Inspector拓展和独立窗口两大部分，这两大部分又涉及SceneView绘制和Preview窗口绘制等。
Inspector面板拓展
参考
Unity游戏开发拓展编辑器1拓展Inspector面板
Unity游戏开发拓展编辑器2
脚本序列化 编辑器拓展

新建一个MonoBehaviour脚本，命名为Enemy_Type1
12345678using UnityEngine;public class Enemy_Type1 : MonoBehaviour&#123;    public int hp = 100;    public float speed = 300;    public GameObject go;&#125;

我们在Project窗口中按“Assets——Scripts——AG——Chapter2——EditorExtensions——Editor”结构创建一系列文件夹
在Editor文件夹内新建Enemy_Type1Inspector文件
12345678910111213141516171819202122usin ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/10/11/AdventureCreator/Adventure-Creator-v172Update/" title="THE INVENTORY SYSTEM'S V1.72 UPDATE"><img class="post_bg" src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/Snipaste_2021-12-11_15-51-52.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="THE INVENTORY SYSTEM'S V1.72 UPDATE"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/11/AdventureCreator/Adventure-Creator-v172Update/" title="THE INVENTORY SYSTEM'S V1.72 UPDATE">THE INVENTORY SYSTEM'S V1.72 UPDATE</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-11T10:36:37.000Z" title="发表于 2022-10-11 18:36:37">2022-10-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Adventure-Creator/">Adventure Creator</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Adventure-Creator/%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%8E%E7%AC%AC%E4%B8%89%E6%96%B9%E5%B7%A5%E5%85%B7/">自定义与第三方工具</a></span></div><div class="content">AC的Inventory 系统作为其v1.72.0更新的一部分进行了全面重构。本页既概述了它如何从API级别工作，也为希望将自定义脚本移植到新系统的开发人员提供了指南。
输入Inventory Manager的Inventory Item数据存储在InvItem类中。
在v1.72.0之前，每当玩家处理一个物品时，都会在运行时生成这个类的副本——无论是在他们自己的Inventory 中，还是在Crafting中，或是放在Container中。这意味着，在脚本中处理这个类时，对InvItem的实际来源存在歧义。此类InvItem类存储在Lists中，并通过外部函数进行修改。
新的Inventory 系统对此做了两个根本性的改变：

在运行时处理Inventory 时，原始InvItem类将被单独保留。而是创建一个引用InvItem的InvInstance类。这个新类有额外的属性来记录它所代表的Item的数量、选择模式（Use vs Give）等等。虽然原始的InvItem类仍然可以访问，但这意味着它的来源不再模棱两可。
每当记录物品列表时，无论是用于玩家的Inventory 、Craft ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/10/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/#content-inner">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/#content-inner">12</a><span class="space">&hellip;</span><a class="page-number" href="/page/25/#content-inner">25</a><a class="extend next" rel="next" href="/page/12/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/头像2.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">ATAO2017</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">244</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">21</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">64</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://space.bilibili.com/170871791?spm_id_from=333.1007.0.0"><i class="fas fa-heart"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/ATAO-Blast" target="_blank" title="Github主页"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zerwart@outlook.com" target="_blank" title="Email邮箱"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到ATAO2017的博客</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/07/03/ResourceLoadProgram/Chapter8Part2/" title="知识补充"><img src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/UnityResPrg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="知识补充"/></a><div class="content"><a class="title" href="/2023/07/03/ResourceLoadProgram/Chapter8Part2/" title="知识补充">知识补充</a><time datetime="2023-07-03T11:30:05.000Z" title="发表于 2023-07-03 19:30:05">2023-07-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/02/ResourceLoadProgram/Chapter8Part1/" title="框架整理"><img src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/UnityResPrg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="框架整理"/></a><div class="content"><a class="title" href="/2023/07/02/ResourceLoadProgram/Chapter8Part1/" title="框架整理">框架整理</a><time datetime="2023-07-02T13:51:48.000Z" title="发表于 2023-07-02 21:51:48">2023-07-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/02/ResourceLoadProgram/Chapter7Part7/" title="配置表总结"><img src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/UnityResPrg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="配置表总结"/></a><div class="content"><a class="title" href="/2023/07/02/ResourceLoadProgram/Chapter7Part7/" title="配置表总结">配置表总结</a><time datetime="2023-07-02T02:42:12.000Z" title="发表于 2023-07-02 10:42:12">2023-07-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/28/ResourceLoadProgram/Chapter7Part6/" title="Excel转Xml"><img src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/UnityResPrg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Excel转Xml"/></a><div class="content"><a class="title" href="/2023/06/28/ResourceLoadProgram/Chapter7Part6/" title="Excel转Xml">Excel转Xml</a><time datetime="2023-06-28T11:11:45.000Z" title="发表于 2023-06-28 19:11:45">2023-06-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/25/ResourceLoadProgram/Chapter7Part5/" title="xml转Excel拓展"><img src="https://atao-screenshots.oss-cn-beijing.aliyuncs.com/ScreenShots/UnityResPrg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="xml转Excel拓展"/></a><div class="content"><a class="title" href="/2023/06/25/ResourceLoadProgram/Chapter7Part5/" title="xml转Excel拓展">xml转Excel拓展</a><time datetime="2023-06-25T15:14:55.000Z" title="发表于 2023-06-25 23:14:55">2023-06-25</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Adventure-Creator/"><span class="card-category-list-name">Adventure Creator</span><span class="card-category-list-count">20</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Adventure-Creator/2D-Tutorial/"><span class="card-category-list-name">2D Tutorial</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Adventure-Creator/3D-Tutorial/"><span class="card-category-list-name">3D Tutorial</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Adventure-Creator/%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%8E%E7%AC%AC%E4%B8%89%E6%96%B9%E5%B7%A5%E5%85%B7/"><span class="card-category-list-name">自定义与第三方工具</span><span class="card-category-list-count">10</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/After-Effects/"><span class="card-category-list-name">After Effects</span><span class="card-category-list-count">1</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/After-Effects/%E8%A1%A8%E8%BE%BE%E5%BC%8F/"><span class="card-category-list-name">表达式</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/C-%E7%9F%A5%E8%AF%86/"><span class="card-category-list-name">C#知识</span><span class="card-category-list-count">20</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/C-%E7%9F%A5%E8%AF%86/C-Tips/"><span class="card-category-list-name">C#Tips</span><span class="card-category-list-count">9</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/AE/" style="font-size: 1.1em; color: #999">AE</a> <a href="/tags/Adventure-Creator/" style="font-size: 1.32em; color: #99a2ae">Adventure_Creator</a> <a href="/tags/C/" style="font-size: 1.32em; color: #99a2ae">C#</a> <a href="/tags/DOTS/" style="font-size: 1.25em; color: #999fa7">DOTS</a> <a href="/tags/DOTween/" style="font-size: 1.17em; color: #999ca0">DOTween</a> <a href="/tags/Dialogue-System/" style="font-size: 1.17em; color: #999ca0">Dialogue System</a> <a href="/tags/Job-System/" style="font-size: 1.1em; color: #999">Job System</a> <a href="/tags/PhotoShop/" style="font-size: 1.14em; color: #999a9c">PhotoShop</a> <a href="/tags/Shader/" style="font-size: 1.21em; color: #999da3">Shader</a> <a href="/tags/Tips/" style="font-size: 1.14em; color: #999a9c">Tips</a> <a href="/tags/Unity/" style="font-size: 1.14em; color: #999a9c">Unity</a> <a href="/tags/UnityPlugin/" style="font-size: 1.28em; color: #99a0aa">UnityPlugin</a> <a href="/tags/UnityShader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81/" style="font-size: 1.21em; color: #999da3">UnityShader入门精要</a> <a href="/tags/Unity%E4%B9%A6%E7%B1%8D/" style="font-size: 1.43em; color: #99a6b8">Unity书籍</a> <a href="/tags/test/" style="font-size: 1.1em; color: #999">test</a> <a href="/tags/testcategories/" style="font-size: 1.1em; color: #999">testcategories</a> <a href="/tags/%E5%8A%A8%E4%BD%9C%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/" style="font-size: 1.14em; color: #999a9c">动作游戏开发</a> <a href="/tags/%E6%95%99%E7%A8%8B/" style="font-size: 1.5em; color: #99a9bf">教程</a> <a href="/tags/%E6%9A%97%E9%BB%91%E6%88%98%E7%A5%9E/" style="font-size: 1.35em; color: #99a3b1">暗黑战神</a> <a href="/tags/%E6%B8%B8%E6%88%8F%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/" style="font-size: 1.46em; color: #99a8bc">游戏框架搭建</a> <a href="/tags/%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%E6%A1%86%E6%9E%B6/" style="font-size: 1.39em; color: #99a5b5">资源加载框架</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">七月 2023</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">六月 2023</span><span class="card-archive-list-count">22</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">五月 2023</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">四月 2023</span><span class="card-archive-list-count">19</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">三月 2023</span><span class="card-archive-list-count">17</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">二月 2023</span><span class="card-archive-list-count">15</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/11/"><span class="card-archive-list-date">十一月 2022</span><span class="card-archive-list-count">16</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">十月 2022</span><span class="card-archive-list-count">27</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">244</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-07-04T09:33:49.199Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By ATAO2017</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">ATAO2017，阿宅创造奇迹</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>